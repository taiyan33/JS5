<!DOCTYPE html>
<html>
<head>
	<style>
	h1 {
	    color: blue;
	    font-family: verdana;
	    font-size: 300%;
	}
	p  {
		background-color: gray;
	    color: red;
	    display: inline-block;
	    /*font-family: courier;*/
	    /*font-size: 160%;*/
	    margin : 1px 1px 1px 1px;
	}
	div {
		display : inline;
		margin:10px;
	}

	table {
			font-family: arial, sans-serif;
			border-collapse: collapse;
			/*width: 100%;*/
	}

	td, th {
	    /*border: 1px solid #dddddd;*/
	    text-align: left;
	    padding: 8px;
	}

	tr:nth-child(even) {
	    background-color: #dddddd;
	}
	</style>
	<script>
	    window.onload = function () {
				<!-- https://www.daniweb.com/programming/web-development/threads/156144/create-and-append-div-to-body-tag -->
				<!-- https://www.w3schools.com/JSREF/met_node_insertbefore.asp -->
				<!-- http://www.webdeveloper.com/forum/showthread.php?195162-create-and-append-div-to-body-tag -->
				// https://developer.mozilla.org/zh-TW/docs/Web/API/Node/textContent
				// show text
				// chrome// textContent
				// IE// innerText
				// http://www.wibibi.com/info.php?tid=402
				// JavaScript 的 innerHTML 與 innerText 看似類似，但其實有很大的差異，對大多數設計師來說 innerHTML 應該比較熟悉，他是用來取得 HTML 元素或寫入字串到 HTML 網頁的語法，且 innerHTML 是 W3C 規定的標準寫法，而 innerText 則是除了可以用來取得 HTML 元素之外，還會把元素的 HTML 標籤去除掉，但 innerText 並非 W3C 所規定的標準寫法，而且僅適用於 IE 瀏覽器，這點非常重要。
				 var div1 = document.createElement('div');
				div1.id = 'myDiv1';
				div1.innerHTML  =" 請選擇骰子面數: ";
				var div2 = document.createElement('div');
				div2.id = 'myDiv2';
				div2.innerHTML  =" 請選擇骰子數量: ";
				var div3 = document.createElement('div');
				div3.id = 'myDiv3';
				div3.innerHTML  =" 請選擇骰子要丟幾次: ";
				if (document.body.firstChild){
				  document.body.insertBefore(div3, document.body.firstChild);
				  document.body.insertBefore(div2, document.body.firstChild);
				  document.body.insertBefore(div1, document.body.firstChild);
				}
				else{
				  document.body.appendChild(div1);
				  document.body.appendChild(div2);
				  document.body.appendChild(div3);
				}
	    	// https://stackoverflow.com/questions/17001961/javascript-add-select-programmatically
	    		var myDiv1 = document.getElementById("myDiv1");
				//Create array of options to be added
				var array = ["Volvo","Saab","Mercades","Audi"];
				//Create and append select list
				var selectList = document.createElement("select");
				selectList.id = "mySelect1";
				selectList.onchange = play;
				myDiv1.appendChild(selectList);
				// body.appendChild(myDiv);
				//Create and append the options
				for (var i = 1; i <= 6; i++) {
				    var option = document.createElement("option");
				    option.value = i;
				    option.text = i+'面';
				    selectList.appendChild(option);
				}
				selectList.options[5].selected = true;
				var myDiv2 = document.getElementById("myDiv2");
				//Create array of options to be added
				var array = ["Volvo","Saab","Mercades","Audi"];
				//Create and append select list
				var selectList = document.createElement("select");
				selectList.id = "mySelect2";
				selectList.onchange = play;
				myDiv2.appendChild(selectList);
				// body.appendChild(myDiv);
				//Create and append the options
				for (var i = 1; i <= 3; i++) {
				    var option = document.createElement("option");
				    option.value = i;
				    option.text = i;
				    selectList.appendChild(option);
				}
				selectList.options[0].selected = true;
				var myDiv3 = document.getElementById("myDiv3");
				//Create array of options to be added
				var array = ["Volvo","Saab","Mercades","Audi"];
				//Create and append select list
				var selectList = document.createElement("select");
				selectList.id = "mySelect3";
				selectList.onchange = play;
				myDiv3.appendChild(selectList);
				// body.appendChild(myDiv);
				//Create and append the options
				for (var i = 1; i <= 100; i++) {
				    var option = document.createElement("option");
				    option.value = i;
				    option.text = i;
				    selectList.appendChild(option);
				}
				selectList.options[9].selected = true;
				
				// console.log(document.getElementById("mySelect3").value);
				// 	    		// document.writeln(document.getElementById("myDiv3").value);
				//  var tableString='';
		    
		  //       tableString+="<table><tr>";
		  //       for (var i = 1; i <= document.getElementById("mySelect1").value*document.getElementById("mySelect2").value; i++) {
		  //       tableString+="<td>";
		  //           for (var j = 1; j <= 3; j++) {
		  //               tableString+= i + '*' + j + '=' + (i * j) + '<br>';
		  //           }
		  //           tableString+="</td>";
		  //       }
		  //       tableString+="</tr></table>";
		    
		  //       document.getElementById('table').innerHTML=tableString;
				console.log(123);
				var tableString ="<table><tr><th>Total</th><th>Times</th><th></th></tr>";
				tableString+="</table>";
				var mytable = document.createElement('div');
				mytable.id = 'mytable';
				mytable.innerHTML  = tableString;
				document.body.appendChild(mytable);
				play();
				// document.appendChild( document.getElementById("mySelect3").value );
	    }
	function play(){
console.log(453);
		var dice =[];
		
			// var max=6,min=1;
			for(var i=1;i<= document.getElementById("mySelect1").value*document.getElementById("mySelect2").value;i++){
				dice[i]=0;
			}
			for(var i=1;i<= document.getElementById("mySelect3").value;i++)
			{
				var tmp =0;
				for(var j=0;j<document.getElementById("mySelect2").value;j++){
					tmp =tmp+ Math.floor(Math.random()*document.getElementById("mySelect1").value+1);
					
				}
				
				dice[tmp]++;
				// console.log( tmp+"     "+dice[tmp]);
				 // console.log( tmp+"     "+dice[tmp]+ document.getElementById("mySelect1").value*document.getElementById("mySelect2").value);
			}
			var j=0;
			// console.log( document.getElementById("mySelect1").value*document.getElementById("mySelect2").value);
			var tableString ="<table><tr><th>Total</th><th>Times</th><th></th></tr>";
			for(var i=document.getElementById("mySelect2").value;i<=document.getElementById("mySelect1").value*document.getElementById("mySelect2").value;i++)
			{
				if(dice[i]!=0)
				{
						console.log( i+" :" + dice[i] + '次');
				 		j=j+dice[i];	
				 		var div1 = document.createElement('div');
						div1.id = 'myDiv'+i;
				 			// document.body.appendChild(div)	;	
				 				tableString+="<tr><th>"+i+"</th><th>"+dice[i]+"</th><th>";
				 				for(var k=0; k < dice[i];k++){
				 						tableString+="<p>*</p>";
				 				}
				 				tableString+="</th></tr>";
				}
			}
			
			tableString+="</table>";
			// var mytable = document.createElement('div');
			// 	mytable.id = 'mytable';
			// 	mytable.innerHTML  = tableString;//" 請選擇骰子面數: ";
				// document.body.appendChild(mytable);

				document.body.lastChild.innerHTML=tableString;
			// document.body.innerHTML+="";
	}	
	</script>
</head>
<body>

<!-- 
<div id='myDiv1' > 請選擇骰子面數: </div>
<div id='myDiv2' > 請選擇骰子數量: </div>
<div id='myDiv3' > 請選擇骰子要丟幾次: </div> -->
<br>
<!-- <p>*</p><p>*</p><p>*</p>
<br>
<div class="item">Total</div>
<div class="item">Times</div>
<div id='table'></div> -->

</body>
</html>